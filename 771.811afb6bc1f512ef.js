"use strict";(self.webpackChunkawesome_components=self.webpackChunkawesome_components||[]).push([[771],{9771:($,h,m)=>{m.r(h),m.d(h,{SocialMediaModule:()=>N});var c=m(6895),d=m(3060),P=m(4004),t=m(4650),y=m(2340),A=m(529);let p=(()=>{class n{constructor(e){this.http=e}getPosts(){return this.http.get(`${y.N.apiUrl}/posts`)}addNewComment(e){console.log(e.comment,", sur le post : ",e.postId)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(A.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var s=m(7340),u=m(4006);const S=(0,s.oQ)([(0,s.vP)([(0,s.jt)("{{flashTime}} ease-out",(0,s.oB)({"background-color":"{{flashColor}}"})),(0,s.jt)("{{flashTime}} ease-out",(0,s.oB)({"background-color":"white"}))])]),I=(0,s.oQ)([(0,s.oB)({transform:"translateX(-100%)",opacity:"0","background-color":" {{slideColor}} "}),(0,s.jt)("{{slideTime}} ease-out",(0,s.oB)({transform:"translateX(0)","background-color":"white",opacity:1}))]);var f=m(4633),T=m(3238),w=m(4859),L=m(7392),M=m(9549),O=m(4144);let C=(()=>{class n{transform(e,o=50){return e.length<=o?e:e.substring(0,o)+"..."}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"shorten",type:n,pure:!0}),n})(),v=(()=>{class n{constructor(){this.timeDiffs={minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}transform(e){const r=Date.now()-new Date(e).getTime();return r<this.timeDiffs.minute?"Il y a quelques secondes":r<this.timeDiffs.hour?"Il y a quelques minutes":r<this.timeDiffs.day?"Il y a quelques heures":r<this.timeDiffs.month?"Il y a quelques jours":r<this.timeDiffs.year?"Il y a quelques mois":"Il y a plus d'un an"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"timeAgo",type:n,pure:!0}),n})();function x(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-list-item",6),t.NdJ("mouseenter",function(){const r=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.onLitsttemMouseEnter(r.id))})("mouseleave",function(){const r=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.onLitsttemMouseLeave(r.id))}),t.TgZ(1,"span",7),t._uU(2),t.ALo(3,"shorten"),t.qZA(),t.TgZ(4,"span",8),t._uU(5),t.ALo(6,"timeAgo"),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.Q6J("@listItem",o.animationsStates[e.id]),t.xp6(2),t.Oqu(t.xi3(3,3,e.comment,100)),t.xp6(3),t.Oqu(t.lcZ(6,6,e.createdDate))}}function Z(n,i){if(1&n&&(t.TgZ(0,"mat-list")(1,"h2",4),t._uU(2,"Commentaire"),t.qZA(),t.YNc(3,x,7,8,"mat-list-item",5),t.qZA()),2&n){const e=t.oxw();t.Q6J("@list",void 0),t.xp6(3),t.Q6J("ngForOf",e.comments)}}let k=(()=>{class n{constructor(e){this.formBuilder=e,this.newComment=new t.vpe,this.animationsStates={}}ngOnInit(){this.commentCtrl=this.formBuilder.control("",[u.kI.required,u.kI.minLength(10)]);for(let e of this.comments)this.animationsStates[e.id]="default"}onLeaveComment(){if(this.commentCtrl.invalid)return;const e=Math.max(...this.comments.map(o=>o.id));this.comments.unshift({id:e+1,comment:this.commentCtrl.value,createdDate:(new Date).toISOString(),userId:1}),this.newComment.emit(this.commentCtrl.value),this.commentCtrl.reset()}onLitsttemMouseEnter(e){this.animationsStates[e]="active"}onLitsttemMouseLeave(e){this.animationsStates[e]="default"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-comments"]],inputs:{comments:"comments"},outputs:{newComment:"newComment"},decls:7,vars:2,consts:[[1,"comments-row"],["matInput","","placeholder","Laissez un commentaire",3,"formControl"],["mat-icon-button","","color","primary",3,"click"],[4,"ngIf"],["matSubheader",""],[3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[3,"mouseenter","mouseleave"],["matLine","",1,"comment__text"],["matLine","",1,"comment__date"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"mat-form-field"),t._UZ(2,"input",1),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.onLeaveComment()}),t.TgZ(4,"mat-icon"),t._uU(5,"send"),t.qZA()()(),t.YNc(6,Z,4,2,"mat-list",3)),2&e&&(t.xp6(2),t.Q6J("formControl",o.commentCtrl),t.xp6(4),t.Q6J("ngIf",o.comments.length))},dependencies:[c.sg,c.O5,f.i$,f.Tg,T.X2,f.gs,w.lW,L.Hw,M.KE,O.Nt,u.Fj,u.JJ,u.oH,C,v],styles:[".comments-row[_ngcontent-%COMP%]{display:flex;border-top:#555 thin solid;padding-top:10px;justify-content:space-around;align-items:center}mat-list-item[_ngcontent-%COMP%]{border-bottom:thin solid #555}mat-form-field[_ngcontent-%COMP%]{width:90%}"],data:{animation:[(0,s.X$)("list",[(0,s.eR)(":enter",[(0,s.IO)("@listItem",[(0,s.EY)(50,[(0,s.pV)()])])])]),(0,s.X$)("listItem",[(0,s.SB)("default",(0,s.oB)({transform:"scale(1)","background-color":"white","z-index":1})),(0,s.SB)("active",(0,s.oB)({transform:"scale(1.05)","background-color":"rgb(201,157,242)","z-index":2})),(0,s.eR)("default => active",[(0,s.jt)("100ms ease-in-out")]),(0,s.eR)("active => default",[(0,s.jt)("500ms ease-in-out")]),(0,s.eR)(":enter",[(0,s.IO)(".comment__text, .comment__date",(0,s.oB)({opacity:0})),(0,s._7)(I,{params:{slideTime:"250ms",slideColor:"rgb(201,157,242)"}}),(0,s.ru)([(0,s._7)(S,{params:{flashTime:"250ms",flashColor:"rgb(201,157,242)"}}),(0,s.IO)(".comment__text",[(0,s.jt)("250ms",(0,s.oB)({opacity:1}))]),(0,s.IO)(".comment__date",[(0,s.jt)("500ms",(0,s.oB)({opacity:1}))])])])])]}}),n})();var l=m(3546);let B=(()=>{class n{constructor(e,o){this.element=e,this.renderer=o,this.color="rgba(175, 122, 197,50%)",this.backgroundPositionY="calc(200% - 1px)"}ngAfterViewInit(){this.activeBackgroundPositionY=this.backgroundPositionY,this.setUnderlineStyle(this.color,this.activeBackgroundPositionY)}setUnderlineStyle(e,o){const a={"background-image":`linear-gradient(0deg, ${e}, ${e} 100%)`,"background-repeat":"no-repeat","background-size":"100% 50%","background-position-y":o,transition:"background-position-y 0.25s ease 0s"};Object.keys(a).forEach(r=>this.renderer.setStyle(this.element.nativeElement,`${r}`,`${a[r]}`))}onMouseEnter(){this.setUnderlineStyle(this.color,this.activeBackgroundPositionY===this.backgroundPositionY?"100%":this.backgroundPositionY)}onMouseLeave(){this.setUnderlineStyle(this.color,this.activeBackgroundPositionY)}onClick(){this.activeBackgroundPositionY=this.activeBackgroundPositionY===this.backgroundPositionY?"100%":this.backgroundPositionY}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj))},n.\u0275dir=t.lG2({type:n,selectors:[["","animated-underline",""]],hostBindings:function(e,o){1&e&&t.NdJ("mouseenter",function(){return o.onMouseEnter()})("mouseleave",function(){return o.onMouseLeave()})("click",function(){return o.onClick()})},inputs:{color:"color"}}),n})();function b(n,i){if(1&n&&t._UZ(0,"img",4),2&n){const e=i.ngIf,o=t.oxw();t.Q6J("src",e,t.LSH)("alt",o.post.title)}}let Y=(()=>{class n{constructor(){this.newCommentOnPost=new t.vpe}ngOnInit(){}onNewComment(e){console.log(e),this.newCommentOnPost.emit({postId:this.post.id,comment:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-post-list-item"]],inputs:{post:"post"},outputs:{newCommentOnPost:"newCommentOnPost"},decls:17,vars:12,consts:[["animated-underline","","color","#ffd740"],["mat-card-image","",3,"src","alt",4,"ngIf"],[1,"post-content"],[3,"comments","newComment"],["mat-card-image","",3,"src","alt"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title")(3,"span",0),t._uU(4),t.ALo(5,"titlecase"),t.qZA()(),t.TgZ(6,"mat-card-subtitle")(7,"span"),t._uU(8),t.ALo(9,"timeAgo"),t.qZA()()(),t.TgZ(10,"mat-card-content"),t.YNc(11,b,1,2,"img",1),t.TgZ(12,"span",2),t._uU(13),t.ALo(14,"shorten"),t.qZA()(),t.TgZ(15,"mat-card-actions")(16,"app-comments",3),t.NdJ("newComment",function(r){return o.onNewComment(r)}),t.qZA()()()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,5,o.post.title)," "),t.xp6(4),t.hij(" ",t.lcZ(9,7,o.post.createdDate)," "),t.xp6(3),t.Q6J("ngIf",o.post.imageUrl),t.xp6(2),t.hij(" ",t.xi3(14,9,o.post.content,100)," "),t.xp6(3),t.Q6J("comments",o.post.comments))},dependencies:[c.O5,k,l.a8,l.dk,l.dn,l.n5,l.$j,l.hq,l.G2,B,c.rS,C,v],styles:["mat-card[_ngcontent-%COMP%]{margin-bottom:20px}.post-content[_ngcontent-%COMP%]{margin-top:10px}.animated-underline[_ngcontent-%COMP%]{background-image:linear-gradient(0deg,rgb(255,205,0),rgb(255,205,0) 100%);background-repeat:no-repeat;background-size:100% 50%;background-position-y:calc(200% - 1px);transition:background-position-y .25s ease 0s}.animated-underline[_ngcontent-%COMP%]:hover{background-position-y:100%}"]}),n})();function U(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-post-list-item",1),t.NdJ("newCommentOnPost",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.addComment(a))}),t.qZA()}2&n&&t.Q6J("post",i.$implicit)}let F=(()=>{class n{constructor(e,o){this.route=e,this.postService=o}ngOnInit(){this.posts$=this.route.data.pipe((0,P.U)(e=>e.posts))}addComment(e){this.postService.addNewComment(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-post-list"]],decls:4,vars:3,consts:[[3,"post","newCommentOnPost",4,"ngFor","ngForOf"],[3,"post","newCommentOnPost"]],template:function(e,o){1&e&&(t.TgZ(0,"h2"),t._uU(1,"Posts"),t.qZA(),t.YNc(2,U,1,1,"app-post-list-item",0),t.ALo(3,"async")),2&e&&(t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,1,o.posts$)))},dependencies:[c.sg,Y,c.Ov],styles:["h2[_ngcontent-%COMP%]{color:#fff}"]}),n})(),_=(()=>{class n{constructor(e){this.postsService=e}resolve(e,o){return this.postsService.getPosts()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(p))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const j=[{path:"",component:F,resolve:{posts:_}}];let D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(j),d.Bz]}),n})();var J=m(7710);let N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[p,_],imports:[c.ez,D,J.m]}),n})()}}]);